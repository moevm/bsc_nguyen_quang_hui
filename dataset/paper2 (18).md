# Применение методов многокритериальной оптимизации при подборе продукции интернет-магазина клиенту по заданным им критериям
Ключевые слова: подбор продукции, многокритериальная оптимизация, векторная оптимизация, многокритериальная оптимизационная модель

## Аннотация
В данной статье проведен обзор методов многокритериальной оптимизации, применимых к задаче подбора продукции интернет-магазина клиенту по заданным им критериям и сформулированы требования к алгоритму решения данной задачи. Алгоритм подбора продукции предложено рассматривать с точки зрения двух подходов векторной оптимизации: сужения множества альтернатив и свертки целевых критериев. Представлены три метода реализации решения многокритериальной задачи : метод взвешенных сумм, метод последовательных уступок и метод гарантированного результата и нормализации критериев с выделением преимуществ и недостатков данных методов. Для принятия обоснованных решений относительно важности каждого критерия в многокритериальной задаче подбора продукции клиенту рекомендовано опираться на опыт, знания и интуицию специалистов-экспертов. А при отсутсвии экспертной оценки, ответственность за обоснованное принятие решений должно возлагаться на лицо, принимающее решение (ЛПР).

## Введение
В современных условиях рыночной экономики, в том числе в интернет-торговле, часто возникает проблема отсутствия товара с желаемыми клиентом характеристиками. Данная ситуация может возникнуть в силу различных причин, например, клиент имеет завышенные ожидания о характеристиках желаемого товара, в ассортименте интернет-магазина отсутствует запрашиваемый товар, к моменту заказа все экземпляры желаемого товара распроданы и др. Вследствие этого возникает потребность у продавца, в частности интернет-магазина, предложить клиенту удовлетворяющую альтернативу с целью повышения объёма продаж, а также приобретения доверия клиента для построения взаимовыгодных экономических отношений. 

Задачу нахождения такой альтернативы, т.е. подбор продукции клиенту, можно рассматривать в контексте задач многокритериальной оптимизации, т.к. решение оценивается по многим критериям. Векторная оптимизация встречается во многих областях техники и экономики. В частности, с помощью данного процесса проводятся различные сравнительные анализы продуктов по конечному числу критериев, например, сравнение марок автомобилей по таким критериям, как разгонная динамика, тормозная динамика, эргономика, внешний вид и т.д. Также решаются такие важные задачи в экономике, как максимизация прибыли и минимизации затрат.

Целью данной работы является формирование требований к алгоритму подбора продукции интернет-магазина клиенту по заданным им критериям на основе методов многокритериальной оптимизации.

Для достижения поставленной цели были выделены следующие задачи:
1. Исследовать существующие методы многокритериальной оптимизации
2. Выделить достоинства и недостатки существующих методов.
3. Сформировать набор требований к реализации алгоритма.

## Сравнение аналогов 

## Принцип отбора аналогов 
В обзоре рассматривались работы преимущественно в области экономики, описывающие алгоритм решения задач с применением многокритериальной оптимизации. Параметрами поиска являлись дата публикации с 2010 года и наличие структурированных шагов алгоритма.

### Аналог1
В данной статье рассматривалась многокритериальная задача определения оптимального ассортимента выпускаемой продукции. Был выдвинут алгоритм, суть которого состоит в формировании целевых критериев самим исследователем или группой экспертов, их ранжировании с помощью медианы Кемени и нахождении решения задачи с использованием метода обобщенного критерия или метода последовательных уступок [1].

### Аналог2
В данной статье рассматривается задача оптимизации структуры капитала как многокритериальной задачи. Выделяются два критерия оптимизации, основанные на одном из подходов рассмотрения дынной проблемы в экономическом анализе, - максимизация рентабельности собственного капитала и минимизация времени оборота инвестиций в производство. Также предлагается метод гарантированного результата и нормализации критериев (ГРНК) в качестве решения данной задачи [2].

### Аналог3 
В данной статье был сформирован алгоритм оценки финансового потенциала инновационных компаний и групп компаний с применением многокритериальной оптимизации. Выбор критериев векторной оптимизации основывается на приоритетных показателях, встречающихся при финансовом анализе, анализе инвестиционных проектов, в моделях оценки вероятности наступления банкротства. Алгоритм включает в себя расчет ограничений коэффициентов и формирование частных критериев, характеризующих основные направления оценки финансового потенциала организации,с их последующим ранжированием, и свёртку всех критериев для дальнейшей оценки финансового потенциала [3]. 

### Аналог4 
В данной статье производится оценка и оптимизация сети поставщик-производитель-покупатель некоторой существующей компании. Данная проблема разделяется на две задачи: оценка и оптимизация сети поставщик-производитель и оценка и оптимизация сети производитель-покупатель. Первая задача решается выделением критериев оптимизации с помощью научных данных и мнений экспертов с последующим ранжированием и выбором поставщика производителем. Основной алгоритм оптимизации – алгоритм обработки аналитических иерархий. Для решения второй задачи используется метод взвешенных сумм и целевое программирование [4]. 

### Аналог5 
В данной статье строится многокритериальная оптимизационная модель и производится оценка коммерческой эффективности инвестиционного проекта. Выбор критериев основан на желании инвестора получить максимальную прибыль в минимальный промежуток времени. Предложенный алгоритм рассмотрения инвестиционных проектов основан преимущественного на методе гарантированного результата при нормализации критериев (ГРНК) [5].

## Критерии сравнения аналогов

### Формирование критериев 
Выбор критериев, по которым будет оцениваться оптимальность того или иного процесса/системы, определяет точность построенной математической модели, которая при игнорировании некоторого множества факторов, может привести к ошибочному результату. Например, при оптимизации деятельности компании маркетинговому отделу важно выдвинуть перспективный, по их мнению, продукт, в то время как технологический отдел может сделать вывод о том, что значительный рост объемов производства такого продукта приведёт к недопустимому увеличению общей трудоемкости производства. 
Способы формирования критериев: экспертное, теоретическое (с использованием теоретических знаний и доказательств в данной предметной области), формирование лицом, принимающий решение (ЛПР). 

### Подход к решению задачи многокритериальной оптимизации 
Методы, применяемые для решения задач многокритериальной оптимизации, обуславливают такие важные свойства алгоритма, как возможность автоматизации с помощью программных систем и сложность практической реализации. 
Основные подходы: свертывание критериев, выделение главного критерия, последовательное решение, сужение множества альтернатив, поиск альтернативы с заданными свойствами. 

### Возможность автоматизации алгоритма 
Возможность автоматизировать полученную оптимизационную модель способствует росту оперативности и повышению качества принимаемых решений относительно поставленной многокритериальной задачи.

## Таблица сравнения по критериям 
Сравнение аналогов по выбранным критериям приведено в табл. 1.

|      | Формирование критериев  |Подход к решению задачи              | Возможность автоматизации
-------|-------------------------|-------------------------------------|-------------------------- 
Аналог1|экспертное, ЛПР	     	 |главный критерий, свертывание	       |+
Аналог2|теоретическое, ЛПР	 |последовательное решение, свертывание|+
Аналог3|теоретическое	     	 |свертывание                          |+
Аналог4|теоретическое, экспертное|главный критерий,свертывание         |+
Аналог5|ЛПР	 		 |последовательное решение, свертывание|+

Таблица 1 - Сравнение аналогов

## Выводы по итогам сравнения
При сравнении рассмотренных аналогов можно заметить, что предлагаемые алгоритмы при формировании критериев в большинстве обращаются к накопленным теоретическим знаниям в той или иной области экономики, однако при возникновении неоднозначной ситуации прибегают к мнениям и опыту экспертных лиц. Если возможность экспертной оценки отсутствует, выбор критериев возлагается на ЛПР. Также можно заметить, что преобладающий подход к решению расмотренных многокритериальных задач - это свертывание критериев. Более того, при решении поставленнных задач векторной оптимизации основная идея состоит в переходе от многокритериальной к однокритериальной задаче. Возможность автоматизации алгоритма также является большим преимуществом в повышении оперативности и качества принимаемых решений оптимизации процесса/системы. 

## Выбор метода решения
Исходя из проведённого обзора предметной области,можно сделать вывод, что рассматриваемую задачу подбора продукции интернет-магазина клиенту по заданным им критериям с применением методов многокритериальной оптимизации можно разбить на несколько основных этапов. В первую очередь, выбор критериев должен учитывать множество факторов, которые важны в решаемой задаче. Например, это могут быть желание ЛПР(в данном случае интернет-магазина) увеличить объёмы продаж своего ассортимента и найти подходящую клиенту альтернативу. Для принятия более обоснованных решений относительно важности каждого критерия при их формировании следует обратиться к специалистам-экспертам. Следующим этапом должно быть построение многокритериальной оптимизационной модели с выделением критериальных ограничений и самих критериев. После этого должен быть выбран подход к решению многокритериальной задачи. В данном случае следует выбрать сужение множества альтернатив на основе критерия оптимальности Парето с целью предоставления окончательного выбора клиенту. А вот при ранжировании полученного множества решений можно воспользоваться методом свертывания критериев, например, методом последовательных уступок или методом обобщенного критерия, методом ГРНК, методом взвешенных сумм для нахождения более оптимального решения.

## Описание метода решения

### Постановка задачи многокритериальной оптимизации 
Пусть *X*  обозначает множество допустимых решений (в рассматриваемой задаче этим множеством является ассортимент интернет-магазина), *x*∈*X*  – допустимое решение. Каждое решение оценивается по *n* критериям – характеристикам продукта. 

Пусть *Hi*(*x*), *x*∈*X* – вещественная функция, значениями которой являются оценки решения *x*∈*X* по критерию *i*, 0<*i*<*n*+1, *i*∈N. Тогда вектор *H*(*x*) = (*H*1(*x*),*H*2(*x*), ... , *H*n(*x*)) – набор оценок решения *x*∈*X* по всем критериям.

### Метод решения
Для проведения многокритериальной оптимизации подбора продукции воспользуемся двумя подходами векторной оптимизации: сужением множества альтернатив и свертыванием всех критериев. Для того, чтобы сузить множество допустимых решений используется понятие оптимальности по критерию Парето. При таком подходе выделяется множество Парето-оптимальных решений, которое предоставляется клиенту интернет-магазина для его окончательного выбора. Подход свертывания всех критериев обеспечит выделение обобщенного критерия, с помощью которого представится возможным ранжирование полученного применением первого подхода множества решений.

### Оптимальность по Парето
Предположим, что степень предпочтительности решения *x*∈*X* возрастает с возрастанием компонент вектора *H*, т.е. чем больше значение *Hi*(*x*), тем лучше решение *x* по критерию *i*, 0<*i*<*n*+1, *i*∈N.

Решение *x^*∈*X* называется парето-оптимальным (оптимальным по Парето, эффективным), если не существует другого решения *x*∈*X*, которое превосходит x^ хотя бы по одному критерию, а по остальным критериям не хуже [6].

### Свёртываемость всех критериев 

#### Метод обобщенного критерия 
Метод обобщенного критерия – процедура, которая синтезирует набор оценок по заданным критериям, называемых частными или локальными, а единую численную оценку, выражающую итоговую полезность рассматриваемого набора оценок для лица принимающего решения (ЛПР). Таким образом, задание обобщенного критерия сводит задачу многокритериальной оптимизации к задаче однокритериальной оптимизации с новой целевой, сформированной на базу исходных целевых функций.

#### Метод взвешенных сумм 
Наиболее распространенным обобщенным критерием является взвешенная сумма частных критериев, которая превращает векторную оценку в скалярную. Данный обобщенный критерий можно представить в виде суммы произведений весовых коэффициентов *α*j и оценок *H*j(*x*). Весовые коэффициенты, интерпретируемые как «показатель относительной важности» j-ого критерия, т.е. чем больше *α*j, тем больший вклад вносит оценка *H*j(*x*) в итоговую оценку *φ(H)*.

К одному из недостатков метода можно отнести оперирование со значениями, которые обычно лишены содержательного (измеримого) смысла. Это затрудняет пояснения и обоснования рекомендаций, полученных в результате решения многокритериальных задач. Ещё одним является тот факт, что использование постоянных весов или критериев важности означает, что соотношение критериев по важности одно и то же при любых значениях критериев. Примеры задач, иллюстрирующие данные недостатки, представлены в [7]. 

Однако метод взвешенных сумм очень часто используется при анализе прикладных многокритериальных задач. Это связано с удобством расчётов, применимостью для решения задач принятия решений в разных постановках: выбрать один наилучший или несколько лучших вариантов, ранжировать все варианты и т.д. 

#### Метод последовательных уступок 
Метод последовательных уступок позволяет оценить возможные стратегии по нескольким критериям. При использовании данного метода многокритериальная задача сводится к поочередной максимизации (минимизации) частных критериев и выбору величин уступок. Следовательно, для решения многокритериальной задачи нужно так ранжировать критерии, чтобы потом удобнее было выбирать величины уступок. С более подробным алгоримом применения метода последовательных уступок можно ознакомиться в [8].

Метод последовательных уступок является одним из самым распросраненных методов свертывания критерием ввиду наличия таких преимуществ,как простота реализации и удобство расчётов [8].

Недостатками подхода является то, что величины уступок не соизмеримы друг с другом (что исключительно затрудняет их выбор), и то, что в общем случае могут быть получены точки, не являющиеся Парето-оптимальными. 

#### Метод гарантированного результата и нормализации критериев (ГРНК) 
Метод ГРНК отличается от других методов доказательством существования и единственности получаемого оптимального решения по Парето и тем, что его можно использовать для решения различных векторных задач как линейных, так и нелинейных и дискретных. Детализированный алгоритм решения задач векторной оптимизации, основанный на данном методе, представлен в [9]. 
К преимуществам метода можно отнести возможность решать векторные задачи с приоритетом некоторого критерия, выбранного ЛПР с целью улучшить его значение, а также возможность решать задачи с неравнозначными критериями.

К недостаткам данного метода можно причислить объем необходимых вычислений и отсутствие этапа формирования критериев. 

#### Ранжирование критериев
Для принятия обоснованных решений относительно важности каждого критерия в многокритериальной задаче оптимизации необходимо опираться на опыт, знания и интуицию специалистов-экспертов. Существует множество методов разрешения противоречий между мнениями экспертов. Наиболее распространенными из них являются метод экспертных оценок, метод мозговой атаки, метод Дельфи, использование медианы Кемени [1].

## Заключение
В результате проделанной работы для алгоритма подбора продукции клиента по заданным им критериям на основе методов многокритериальной оптимизации были выделены следующие требования:
1. Необходимо последовательно использовать два подхода векторной оптимизации - сужение множества альтернатив и свертывание критериев - для нахождения упорядоченного множества Парето-оптимальных решений задачи подбора продукции.
2. При свертывании критериев следует воспользоваться одним из трех методов - методом взвешенных сумм, методов последовательных уступок или методом ГРНК.
3. При упорядочении весовых коэффициентов или критериев по важности следует опираться на опыт, знания и интуицию специалистов-экспертов. При отсутствии экпертной оценки ответственность за принятие решений возлагается на ЛПР.

Также в ходе выполнения работы были выделены преимущества и недостатки вышеупомянутых методов свертывания критериев. Метод взвешенных сумм и метод последовательных уступок предпочтительны своими удобством расчетов и простотой реализации, в то время как метод взвешенных сумм также применим и при выборе одного наилучшего или несколько лучших вариантов, и при  ранжировании всех множества решений. Недостатками метода последовательных уступок является то, что величины уступок не соизмеримы друг с другом, и то, что в общем случае могут быть получены точки, не являющиеся Парето-оптимальными. Недостатками же метода взвешенных сумм являются оперирование со значениями, которые обычно лишены содержательного (измеримого) смысла и тот факт, что соотношение критериев по важности одно и то же при любых значениях критериев.

Сильными сторонами метода гарантированного результата и нормализации критериев (ГРНК)является возможность решать векторные задачи с приоритетом некоторого критерия, выбранного ЛПР с целью улучшить его значение, а также возможность решать задачи с неравнозначными критериями. Слабыми же сторонами являются объем необходимых вычислений и отсутствие этапа формирования критериев.

На основании полученных результатов в данной работе в дальнейшем планируется программная реализация алгоритма подбора продукции клиенту по заданным им критериям
с учётом всех описанных требований.

## Список литературы
1. Шориков А.Ф., Рассадина Е.С. Многокритериальная оптимизация формирования ассортимента продукции // Экономика региона. - 2010. - № 2. - С. 189 - 196. URL: https://cyberleninka.ru/article/n/mnogokriterialaya-optimizatsiya-formirovaniya-assortimenta-produktsii-predpriyatiya (дата обращения: 17.12.2019)
2. Кириллов Ю.В., Назимко Е.Н. Многокритериальная модель оптимизации структуры капитала // Экономический анализ: теория и практика. - 2011. - № 32(239). - С. 57 - 63. URL: https://cyberleninka.ru/article/n/mnogokriterialnaya-model-optimizatsii-struktury-kapitala (дата обращения: 17.12.2019)
3. Шешукова Т.Г., Колесень Е.В. Оценка финансового потенциала инновационных предприятий и групп компаний с применением многокритериальной оптимизации // Вестник Пермского университета. Серия: Экономика. - 2012. - № 3(14). - С. 39 - 49. URL: https://cyberleninka.ru/article/n/otsenka-finansovogo-potentsiala-innovatsionnyh-predpriyatiy-i-grupp-kompaniy-s-primeneniem-mnogokriterialnoy-optimizatsii (дата обращения: 17.12.2019)
4. Ozturk Z.K. Supply Chain Network Optimization by Considering Cost and Service Level Goals // Universal Journal of Applied Mathematics. - 2018. - № 6(2). - P. 60 - 72. URL: https://www.researchgate.net/publication/325297835_Supply_Chain_Network_Optimization_by_Considering_Cost_and_Service_Level_Goals (дата обращения: 17.12.2019)
5. Кириллов Ю.В., Досужева Е.Е Многокритериальная экономико-математическая модель оценки коммерческой эффективности инвестирования // Финансовая аналитика: проблемы и решения. - 2013. - № 32(170). - С. 18 - 24. URL: https://cyberleninka.ru/article/n/mnogokriterialnaya-ekonomiko-matematicheskaya-model-otsenki-kommercheskoy-effektivnosti-investirovaniya (дата обращения: 17.12.2019)
6. Подиновский В.В. Ногин В.Д. Парето-оптимальные решения многокритериальных
задач. М.: Наука. Гл. ред. физ.-мат. лит. 1982.
7. В.В. Подиновский, М.А, Потапов м.А Метод взвешенной суммы критериев в анализе многокритериальных решений: PRO ET CONTRA // Бизнес-информатика. - 2013. - № 3(25). - С. 41 - 48. URL: https://cyberleninka.ru/article/n/metod-vzveshennoy-summy-kriteriev-v-analize-mnogokriterialnyh-resheniy-pro-et-contra (дата обращения: 17.12.2019)
8.  Конспект лекций по теории и методам многокритериальной оптимизации: учеб. пособие / А.В. Лотов, И.И. Поспелова. Москва, 2014. 127 с.
9. Л.Н. Иванов, Ю.В. Кириллов Использование многокритериальных моделей для информационной поддержки принятия решений // Программные продукты и системы. - 2005. - № 1. - С. 44 - 47. URL: https://cyberleninka.ru/article/n/ispolzovanie-mnogokriterialnyh-modeley-dlya-informatsionnoy-podderzhki-prinyatiya-resheniy (дата обращения: 17.12.2019)
