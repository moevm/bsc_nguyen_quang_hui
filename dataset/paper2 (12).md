# Формирование метода уменьшения ошибки определения местоположения с использованием комплексирования в задаче точной локализации подвижного объекта

## Аннотация

В данной работе, посвящённой проблеме точной локализации подвижного объекта, проводился обзор различных методов повышения точности определения местоположения объекта в пространстве, использующих комплексирование. В результате данного обзора были выдвинуты требования, по которым описан метод уменьшения ошибки определения местоположения, использующий комплексирование.

Ключевые слова: точность локализации, комплексирование, итерационная модель, прямая модель

## Введение

В настоящее время разрабатывается множество систем, опирающихся на точное определение местоположения объекта в пространстве. Это делается с помощью различных датчиков и сенсоров. Однако, вследствие того, что идеальных датчиков не существует, при определении местоположения объекта могут появляться и накапливаться ошибки (например, из-за зашумлённости измерений). Одним из способов, решающих эту проблему, является комплексирование (объединение информации, поступающей от разных датчиков) – способ, при котором влияние ошибки одного датчика (зашумлённости его данных) снижается за счёт учёта данных, полученных от других датчиков.

Цель статьи заключается в том, чтобы разработать метод уменьшения ошибки определения местоположения, использующий идеи комплексирования, на основе критериев, определённых с помощью обзора аналогов.

Для решения поставленной цели необходимо решить следующие задачи:

- произвести обзор существующих методов повышения точности определения местоположения подвижных объектов, использующих идею комплексирования данных;
- определить качества и сформировать требования, которыми должен обладать метод;
- описать метод, удовлетворяющий заявленным требованиям.

## Обзор предметной области

Для определения требований к формируемому методу, необходимо рассмотреть существующие решения. Аналоги должны решать задачу точной локализации подвижного объекта и использовать для этого комплексирование датчиков в качестве способа уменьшения ошибки определения местоположения.

Ниже представлены краткие описания пяти выбранных аналогов:

_Аналог 1_

Вычисление местоположения на основе комплексирования данных от визуального и колёсного одометров, инерционной навигационной системы (ИНС) и ГНСС (Глобальной Навигационной Спутниковой Системы) с помощью ансцентного фильтра Калмана и ряда ограничений, наложенных на данные[1].

_Аналог 2_

На основе показаний лазерного дальномера, установленного на мобильном роботе (МР), вычисляется скорость движения (шум датчика убирается с помощью рекуррентного фильтра Калмана). Далее путём интегрирования уравнений движения находятся координаты МР, которые уточняются с помощью расширенного фильтра Калмана, а затем комплексируются с показаниями гироскопа и ГНСС рекурентным фильтром Калмана[2].

_Аналог 3_

С помощью фильтра Калмана производится оценка погрешности БИНС (бесплатформенной ИНС) по разности определения скорости и местоположения от БИНС и СНС, после чего производится поправка данных БИНС на вычисленную оценку[3].

_Аналог 4_

Точное местоположение объекта определяется исходя из показаний одометра, которые уточняются за счёт решения задачи минимизации ошибки определения координат в системе Север-Восток (оценка ошибки производится на основе данных датчика курса и ГНСС)[4].

_Аналог 5_

Местоположение определяется путём последовательной обработки данных[5]:
1. Данные БИНС корректируются по картам, лежащим в открытом доступе (автомобиль перемещается только по дорогам) и переводятся сначала в декартовы координаты, затем – в навигационные параметры.
2. Полученные данные комплексируются с данными ГНСС фильтром Гаусса, вследствие чего формируется оптимальная оценка состояния БИНС.
3. Сформированная оценка состояния корректируется по картам.

Анализ аналогов проводился по следующим критериям:

_Разнородность датчиков_

Датчики одного типа имеют одинаковые источники ошибок, в то время как датчики различных типов обладают разными. Следовательно, чем больше датчиков различных типов участвует в обработке, тем выше шанс, что ошибка, возникшая в показаниях датчиков определённого типа вследствие определённой причины, не повлияет на точность локализации. Может принимать значения:

- Отсутствует (комплексированию подвергаются однотипные датчики; точность повышается за счёт использования нескольких замеров одной величины);
- Средняя (применяются датчики двух или трёх различных типов);
- Сильная (используются датчики не менее четырёх различных типов).

_Вспомогательные методы уменьшения ошибки_

Применение совместно с комплексированием дополнительных методов уменьшения ошибки позволяет повысить точность определения местоположения.

_Разнородность данных_

Вычислительная сложность метода зависит от количества разнородных данных, обрабатываемых на каждом шаге (чем больше разнородных данных используется, тем больше требуется операций преобразования данных). Может принимать значения:

- Отсутствует (данные, приходящие от датчиков, соответствуют формату представления состояния системы)
- Слабая (часть данных должна быть приведена к формату представления состояния системы)
- Сильная (данные несколько раз преобразуются в процессе обработки)

Результаты сравнения выбранных аналогов по данным критериям представлены в таблице 1.

Таблица 1 – Сравнение аналогов по критериям

|   | Разнородность используемых датчиков | Вспомогательные методы уменьшения ошибки | Разнородность данных |
| --- | --- | --- | --- |
| Аналог 1 | Сильная (визуальные и колёсный одометры, ИНС и ГНСС) | Введение ограничений на поступающие данные | Слабая |
| Аналог 2 | Средняя (лазерный дальномер, гироскоп и ГНСС) | Применение фильтров Калмана на каждом шаге обработки данных | Сильная |
| Аналог 3 | Средняя (БИНС и ГНСС) | - | Отсутствует |
| Аналог 4 | Средняя (одометр, датчик курса и ГНСС) | - | Слабая |
| Аналог 5 | Средняя (БИНС и ГНСС) | Коррекция данных по картам | Сильная |

Проведённый анализ показал, что при решении задачи точной локализации подвижного объекта сочетание комплексирования данных с другими методами уменьшения ошибки не является редкостью. Однако существуют методы, использующие только комплексирование данных. Так же было выявлено, что самой популярной конфигурацией датчиков является сочетание ИНС и ГНСС, а самый распространённый способ комплексирования основывается на применении фильтров Калмана.

## Выбор метода решения

В результате обзора аналогов, было определено, что хотя в решении задачи точной локализации подвижного объекта вместе с комплексированием данных применяются и другие методы уменьшения погрешности определения местоположения, комплексирование обычно является главным элементом, повышающем точность. А так же, что чаще всего местоположение определяется по двум типам систем: ИНС (в которой данные обычно представляются вектором перемещения объекта) и ГНСС (данные – в виде глобальных координат).

Следовательно, разрабатываемый метод должен удовлетворять следующим требованиям:

- Принимать на вход данные двух типов:
  - итерационные (перемещение относительно предыдущего состояния);
  - прямые (местоположение объекта в глобальной системе координат).
- Реализовывать идею комплексирования данных на базе решения задачи минимизации ошибки.
- На выходе выдавать местоположение объекта в глобальной системе координат.

Дополнительной особенностью разрабатываемого метода может стать возможность использования с различными наборами датчиков (в данном случае имеется ввиду различное количество датчиков). Причём, желательно, чтобы вычисление местоположения происходило за время ![equtations](https://latex.codecogs.com/gif.latex?O(n\log&amp;space;n&amp;space;)) при количестве датчиков равном n.

## Описание метода решения

Для описания метода решения, удовлетворяющего выработанным ранее требованиям, необходимо определить ряд сущностей, с которыми он будет работать:

- Местоположение объекта в глобальной системе координат: ![equtations](https://latex.codecogs.com/gif.latex?\chi) 
- Итерационная модель – текущее местоположение объекта вычисляется исходя из предыдущего состояния и данных инерционного датчика (например, одометр или ИНС):

![equtations](https://latex.codecogs.com/gif.latex?{{\chi&space;}_{i&plus;1}}={{\chi&space;}_{i}}&plus;R\left(&space;{{U}_{i}}&space;\right)&plus;{{\zeta&space;}_{i&plus;1}}),

где ![equtations](https://latex.codecogs.com/gif.latex?{{\chi&space;}_{i&plus;1}}) - местоположение объекта в глобальной системе координат на i+1 итерации; ![equtations](https://latex.codecogs.com/gif.latex?{{U}_{i}}) - вектор изменения состояния, измеренный датчиком; ![equtations](https://latex.codecogs.com/gif.latex?R\left(&space;{{U}_{i}}&space;\right)) - функция отображения данных датчика из инерционной системы координат в глобальную; ![equtations](https://latex.codecogs.com/gif.latex?{{\zeta&space;}_{i&plus;1}}) - поправка на погрешность датчика.

- Прямая модель – текущее состояние объекта не зависит от предыдущих и определяется неинерционным датчиком (к примеру – ГНСС):

![equtations](https://latex.codecogs.com/gif.latex?{{\chi&space;}_{i&plus;1}}=H{{Z}_{i&plus;1}}&plus;{{\xi&space;}_{i&plus;1}}),

где ![equtations](https://latex.codecogs.com/gif.latex?{{Z}_{i&plus;1}}) -вектор текущего состояния, измеренный датчиком (имеет размерность не меньше, чем у ![equtations](https://latex.codecogs.com/gif.latex?{{\chi&space;}_{i&plus;1}}); H – матрица наблюдения, характеризующая модель (используется для приведения ![equtations](https://latex.codecogs.com/gif.latex?{{\chi&space;}_{i&plus;1}}) и ![equtations](https://latex.codecogs.com/gif.latex?{{Z}_{i&plus;1}}) к одинаковой размерности); ![equtations](https://latex.codecogs.com/gif.latex?{{\xi&space;}_{i&plus;1}}) - поправка на погрешность датчика.

- Минимизируемый функционал – если положение движущегося объекта определяется несколькими моделями, то очередное состояние объекта должно доставлять минимум каждой из ошибок всех моделей:

 ![equtations](https://latex.codecogs.com/gif.latex?\sum\limits_{k=1}^{n}{\left\|&space;{{\xi&space;}_{k}}({{\chi&space;}_{i&plus;1}})&space;\right\|_{{{Q}_{k}}}^{2}}\to&space;\underset{{{\chi&space;}_{i&plus;1}}}{\mathop{\min&space;}}),

где ![equtations](https://latex.codecogs.com/gif.latex?\left\|&space;{{\xi&space;}_{k}}({{\chi&space;}_{i&plus;1}})&space;\right\|_{Q}^{2}) - норма вектора ошибки k-й модели, равная ![equtations](https://latex.codecogs.com/gif.latex?$\left\|&space;{{\xi&space;}_{k}}({{\chi&space;}_{i&plus;1}})&space;\right\|_{{{Q}_{k}}}^{2}={{\xi&space;}_{k}}{{({{\chi&space;}_{i&plus;1}})}^{T}}{{Q}_{k}}^{-1}{{\xi&space;}_{k}}({{\chi&space;}_{i&plus;1}})$); ![equtations](https://latex.codecogs.com/gif.latex?${{Q}_{k}}$) - матрица ковариации вектора ошибки k-й модели.

После выражения векторов ошибок в прямой и итерационной моделях и подстановки полученных выражений в данный функционал, он преобразуется к виду:

![equtations](https://latex.codecogs.com/gif.latex?\sum\limits_{k=1}^{n}{\left\|&space;{{\chi&space;}_{i&plus;1}}-{{\chi&space;}_{i}}-{{R}^{k}}\left(&space;{{U}^{k}}_{i}&space;\right)&space;\right\|_{{{Q}_{k}}}^{2}}&plus;\sum\limits_{p=1}^{m}{\left\|&space;{{\chi&space;}_{i&plus;1}}-{{H}^{p}}{{Z}^{p}}_{i&plus;1}&space;\right\|_{{{O}_{p}}}^{2}}\to&space;\underset{{{\chi&space;}_{i&plus;1}}}{\mathop{\min&space;}}),

где ![equtations](https://latex.codecogs.com/gif.latex?${{R}^{k}}\left(&space;{{U}^{k}}_{i}&space;\right)$) - функция отображения измерений k-го инерционного датчика; ![equtations](https://latex.codecogs.com/gif.latex?${{H}^{p}}{{Z}^{p}}_{i&plus;1}$) - отображение данных p-го неинерционного датчика в ![equtations](https://latex.codecogs.com/gif.latex?\chi).

Раскрывая скобки, можно заметить, что данный функционал является квадратичной функцией относительно ![equtations](https://latex.codecogs.com/gif.latex?{\chi&space;}_{i&plus;1}), а значит достигает минимума в единственной точке экстремума. Следовательно, ![equtations](https://latex.codecogs.com/gif.latex?{\chi&space;}_{i&plus;1}) можно найти решив уравнение:

![equtations](https://latex.codecogs.com/gif.latex?%7B%7B%5Cleft%28%20%5Csum%5Climits_%7Bk%3D1%7D%5E%7Bn%7D%7B%7B%7B%5Cleft%5C%7C%20%7B%7B%5Cxi%20%7D_%7Bk%7D%7D%28%5Cchi%20%29%20%5Cright%5C%7C%7D%5E%7B2%7D%7D%7D%20%5Cright%29%7D%5E%7B%5Cprime%20%7D%7D_%7B%7B%7B%5Cchi%20%7D_%7Bi&plus;1%7D%7D%7D%20%3D0)

Т.е. в общем случае ![equtations](https://latex.codecogs.com/gif.latex?${{\chi&space;}_{i&plus;1}}$) определяется следующим образом:

![equtations](https://latex.codecogs.com/gif.latex?%5Cleft%28%20%5Csum%5Climits_%7Bk%3D1%7D%5E%7Bn%7D%7B%7B%7BQ%7D%5E%7B-1%7D%7D_%7Bk%7D%7D&plus;%5Csum%5Climits_%7Bp%3D1%7D%5E%7Bm%7D%7B%7B%7BO%7D%5E%7B-1%7D%7D_%7Bp%7D%7D%20%5Cright%29%7B%7B%5Cchi%20%7D_%7Bi&plus;1%7D%7D%3D%5Csum%5Climits_%7Bk%3D1%7D%5E%7Bn%7D%7B%7B%7BQ%7D%5E%7B-1%7D%7D_%7Bk%7D%5Cleft%28%20%7B%7B%5Cchi%20%7D_%7Bi%7D%7D&plus;%7B%7BR%7D%5E%7Bk%7D%7D%5Cleft%28%20%7B%7BU%7D%5E%7Bk%7D%7D_%7Bi%7D%20%5Cright%29%20%5Cright%29%7D&plus;%5Csum%5Climits_%7Bp%3D1%7D%5E%7Bm%7D%7B%7B%7BO%7D%5E%7B-1%7D%7D_%7Bp%7D%7B%7BH%7D%5E%7Bp%7D%7D%7B%7BZ%7D%5E%7Bp%7D%7D_%7Bi&plus;1%7D%7D)

![equtations](https://latex.codecogs.com/gif.latex?%7B%7B%5Cchi%20%7D_%7Bi&plus;1%7D%7D%3D%7B%7B%5Cleft%28%20%5Csum%5Climits_%7Bk%3D1%7D%5E%7Bn%7D%7B%7B%7BQ%7D%5E%7B-1%7D%7D_%7Bk%7D%7D&plus;%5Csum%5Climits_%7Bp%3D1%7D%5E%7Bm%7D%7B%7B%7BO%7D%5E%7B-1%7D%7D_%7Bp%7D%7D%20%5Cright%29%7D%5E%7B-1%7D%7D%5Cleft%28%20%5Csum%5Climits_%7Bk%3D1%7D%5E%7Bn%7D%7B%7B%7BQ%7D%5E%7B-1%7D%7D_%7Bk%7D%5Cleft%28%20%7B%7B%5Cchi%20%7D_%7Bi%7D%7D&plus;%7B%7BR%7D%5E%7Bk%7D%7D%5Cleft%28%20%7B%7BU%7D%5E%7Bk%7D%7D_%7Bi%7D%20%5Cright%29%20%5Cright%29%7D&plus;%5Csum%5Climits_%7Bp%3D1%7D%5E%7Bm%7D%7B%7B%7BO%7D%5E%7B-1%7D%7D_%7Bp%7D%7B%7BH%7D%5E%7Bp%7D%7D%7B%7BZ%7D%5E%7Bp%7D%7D_%7Bi&plus;1%7D%7D%20%5Cright%29)

Для повышения точности в данную модель можно ввести экстраполяцию – оценку текущего состояния исходя из w предыдущих:

![equtations](https://latex.codecogs.com/gif.latex?{{\chi&space;}_{i&plus;1}}=A\left(&space;{{\chi&space;}_{i}};...;{{\chi&space;}_{i-w}}&space;\right)&plus;{{\delta&space;}_{i&plus;1}}).

Тогда минимизируемый функционал преобразится к виду:

![equtations](https://latex.codecogs.com/gif.latex?\sum\limits_{k=1}^{n}{\left\|&space;{{\chi&space;}_{i&plus;1}}-{{\chi&space;}_{i}}-{{R}^{k}}\left(&space;{{U}^{k}}_{i}&space;\right)&space;\right\|_{{{Q}_{k}}}^{2}}&plus;)
![equtations](https://latex.codecogs.com/gif.latex?&plus;\sum\limits_{p=1}^{m}{\left\|&space;{{\chi&space;}_{i&plus;1}}-{{H}^{p}}{{Z}^{p}}_{i&plus;1}&space;\right\|_{{{O}_{p}}}^{2}}&plus;\left\|&space;{{\chi&space;}_{i&plus;1}}-A\left(&space;{{\chi&space;}_{i}};...;{{\chi&space;}_{i-w}}&space;\right)&space;\right\|_{Y}^{2}\to&space;\underset{{{\chi&space;}_{i&plus;1}}}{\mathop{\min&space;}}),

а текущее состояние станет вычисляться по формуле:

![equtations](https://latex.codecogs.com/gif.latex?%7B%7B%5Cchi%20%7D_%7Bi&plus;1%7D%7D%3D%7B%7B%5Cleft%28%20%5Csum%5Climits_%7Bk%3D1%7D%5E%7Bn%7D%7B%7B%7BQ%7D%5E%7B-1%7D%7D_%7Bk%7D%7D&plus;%5Csum%5Climits_%7Bp%3D1%7D%5E%7Bm%7D%7B%7B%7BO%7D%5E%7B-1%7D%7D_%7Bp%7D%7D&plus;%7B%7BY%7D%5E%7B-1%7D%7D%20%5Cright%29%7D%5E%7B-1%7D%7D%5Cleft%28%20%5Csum%5Climits_%7Bk%3D1%7D%5E%7Bn%7D%7B%7B%7BQ%7D%5E%7B-1%7D%7D_%7Bk%7D%5Cleft%28%20%7B%7B%5Cchi%20%7D_%7Bi%7D%7D&plus;%7B%7BR%7D%5E%7Bk%7D%7D%5Cleft%28%20%7B%7BU%7D%5E%7Bk%7D%7D_%7Bi%7D%20%5Cright%29%20%5Cright%29%7D&plus;%5Csum%5Climits_%7Bp%3D1%7D%5E%7Bm%7D%7B%7B%7BO%7D%5E%7B-1%7D%7D_%7Bp%7D%7B%7BH%7D%5E%7Bp%7D%7D%7B%7BZ%7D%5E%7Bp%7D%7D_%7Bi&plus;1%7D%7D&plus;A%5Cleft%28%20%7B%7B%5Cchi%20%7D_%7Bi%7D%7D%3B...%3B%7B%7B%5Cchi%20%7D_%7Bi-w%7D%7D%20%5Cright%29%20%5Cright%29)

## Заключение

В рамках данной статьи была достигнута поставленная цель – разработка метода уменьшения ошибки определения точности местоположения, использующего идеи комплексирования. Для этого был проведён анализ подобных существующих методов по критериям: «Разнородность используемых датчиков», «Вспомогательные методы уменьшения ошибки», и «Разнородность данных». По результатам анализа был выдвинут ряд требований к разрабатываемому методу. Затем, исходя из полученных требований, разработан метод точной локализации, использующий комплексирование датчиков. Для повышения точности в данный метод была введена экстраполяция движения по пройденной траектории.

В дальнейшем следует провести ряд исследований, отвечающих на следующие вопросы:

- уменьшает ли данный метод ошибку по сравнению с данными, поступающими от датчиков;
- какой вид экстраполяции позволяет получить наименьшую ошибку определения местоположения;
- обеспечивает ли ввод экстраполяции повышение точности локализации, если да – то в каких случаях (определить зависимость точности от траектории).

## Список литературы

1. Голиков А. Н., Пантелюк П. А. АЛГОРИТМ ОЦЕНКИ СОБСТВЕННОГО МЕСТОПОЛОЖЕНИЯ ЧЕТЫРЁХКОЛЁСНОГО РОБОТА НА ОСНОВЕ КОМПЛЕКСИРОВАНИЯ ДАННЫХ ГНСС, КОЛЁСНОЙ, ИНЕРЦИАЛЬНОЙ И ВИЗУАЛЬНОЙ ОДОМЕТРИИ БЕЗ ТРИАНГУЛЯЦИИ //Конференция «Перспективные системы и задачи управления». – С. 409.
2. Минин А. А. Навигация и управление мобильным роботом, оснащенным лазерным дальномером //МОСКВА. – 2008. – Т. 2. – №. 7.
3. Фомичев А.В., Тань Л. Разработка алгоритма быстрой компенсации погрешностей комплексированной инерциально-спутникой системы навигации малогабаритных беспилотных летательных аппаратов в условиях сложной среды // Машиностроение и компьютерные технологии. 2015. №10. URL: [https://cyberleninka.ru/article/n/razrabotka-algoritma-bystroy-kompensatsii-pogreshnostey-kompleksirovannoy-inertsialno-sputnikoy-sistemy-navigatsii-malogabaritnyh](https://cyberleninka.ru/article/n/razrabotka-algoritma-bystroy-kompensatsii-pogreshnostey-kompleksirovannoy-inertsialno-sputnikoy-sistemy-navigatsii-malogabaritnyh) (дата обращения: 15.12.2019).
4. Горбачeв Андрей Юрьевич Применение одометров для коррекции интегрированных навигационных систем // Вестник МГТУ им. Н.Э. Баумана. Серия «Приборостроение». 2009. №4. URL: [https://cyberleninka.ru/article/n/primenenie-odometrov-dlya-korrektsii-integrirovannyh-navigatsionnyh-sistem](https://cyberleninka.ru/article/n/primenenie-odometrov-dlya-korrektsii-integrirovannyh-navigatsionnyh-sistem) (дата обращения: 01.12.2019).
5. Щербань Игорь Васильевич, Конев Дмитрий Сергеевич, Толмачев Сергей Алексеевич Комплексирование грубых инерциальных датчиков и мобильного GPS навигатора транспортного средства // Известия ЮФУ. Технические науки. 2015. №3 (164). URL: [https://cyberleninka.ru/article/n/kompleksirovanie-grubyh-inertsialnyh-datchikov-i-mobilnogo-gps-navigatora-transportnogo-sredstva](https://cyberleninka.ru/article/n/kompleksirovanie-grubyh-inertsialnyh-datchikov-i-mobilnogo-gps-navigatora-transportnogo-sredstva) (дата обращения: 01.12.2019).